<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Kernel Density Estimation Analysis</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 2em;
      line-height: 1.6;
      background-color: #f9f9f9;
      color: #333;
    }
    h1, h2 {
      color: #2c3e50;
    }
    img {
      height: auto;
      margin: 1em 0;
      display: block;
      margin-left: auto;
      margin-right: auto;
    }

    /* Individual image sizes (adjust these manually) */
    #img1 { width: 300px; }
    #img2 { width: 300px; }
    #img3 { width: 350px; }
    #img4 { width: 350px; }
    #img5 { width: 300px; }
    #img6 { width: 300px; }
    #img7 { width: 300px; }
    #img8 { width: 300px; }
    #img9 { width: 400px; }
    #img10 { width: 400px; }
    #img11 { width: 400px; }

    .figure {
      text-align: center;
      margin-bottom: 2em;
    }
    .figure-caption {
      font-style: italic;
      color: #555;
    }
    code {
      background-color: #eee;
      padding: 0.2em 0.4em;
      border-radius: 3px;
    }
  </style>
</head>
<body>

  <h1>Kernel Density Estimation</h1>

  <div class="figure">
    <img id="img1" src="graphs/blob.png" alt="Figure 1">
    <div class="figure-caption">Figure 1: A 2D Gaussian distribution is centered at each data point.</div>
  </div>

  <div class="figure">
    <img id="img2" src="graphs/blob_line.png" alt="Figure 2">
    <div class="figure-caption">Figure 2: Overlapping Gaussians result in a cumulative density heatmap.</div>
  </div>

  <h2>Implementation Practicalities</h2>
  <p>
    The values for each pixel of the Gaussian are computed once and then “stamped” over each GPS point. 
    They do not need to be recomputed every time.
  </p>
  <p>
    Further consideration into the standard deviation of the Gaussian is needed. The current value is arbitrary, 
    based on what looked visually reasonable with real data. Research is needed to determine how it should relate to the real data.
  </p>

  <h2>Kernel Density Ranking</h2>
  <p>
    The raw intensity values are skewed by time spent at base camp. 
    Figure 3 shows the raw values; base camp dominates due to its exponential intensity.
    Ranking the values instead results in Figure 4.
  </p>

  <div class="figure">
    <img id="img3" src="graphs/intensity.png" alt="Figure 3">
    <div class="figure-caption">Figure 3: Raw intensity values – base camp dominates.</div>
  </div>

  <div class="figure">
    <img id="img4" src="graphs/ranking.png" alt="Figure 4">
    <div class="figure-caption">Figure 4: Ranked intensity values, reducing skew.</div>
  </div>

  <h2>Adding Speed</h2>
  <p>
    Data is stored as sequential <code>[x, y, time]</code> entries. Distance between consecutive points is calculated 
    using the Haversine formula. Speed is derived from the distance and time difference.
  </p>
  <p>
    Each point is assigned the speed required to reach it from the previous one. 
    We then compute a weighted average speed for each pixel using Gaussian intensity weights.
  </p>

  <div class="figure">
    <img id="img5" src="graphs/Figure_1.png" alt="Speed Example">
    <div class="figure-caption">Example: Two points with speeds 100 and 50 respectively.</div>
  </div>
  <div class="figure">
    <img id="img6" src="graphs/Figure_2.png" alt="Speed Example">
    <div class="figure-caption">Example: Two points with speeds 100 and 50 respectively.</div>
  </div>
  <div class="figure">
    <img id="img7" src="graphs/Figure_3.png" alt="Speed Example">
    <div class="figure-caption">Example: Two points with speeds 100 and 50 respectively.</div>
  </div>
  <div class="figure">
    <img id="img8" src="graphs/Figure_4.png" alt="Speed Example">
    <div class="figure-caption">Example: Two points with speeds 100 and 50 respectively.</div>
  </div>

  <div class="figure">
    <img id="img9" src="graphs/speed.png" alt="Average Speed">
    <div class="figure-caption">Full average speed plot (white = null).</div>
  </div>

  <h3>Speed vs Path</h3>
  <p>Do we see a relationship between speed and path intensity or rank?</p>

  <div class="figure">
    <img id="img10" src="graphs/correlation.png" alt="Speed vs Intensity">
    <div class="figure-caption">Speed vs Path Intensity</div>
  </div>

  <p>No, no we can’t.</p>

  <h2>Calculating Directional Speed</h2>
  <p>
    To investigate slope effects, we measure speed in four directions (N, S, E, W). 
    This is done by computing vector components between GPS points.
  </p>

  <p>
    For example:
    <ul>
      <li>1-2: √2 units North and √2 units East</li>
      <li>2-3: 1 unit East</li>
      <li>3-4: Some units East and South</li>
    </ul>
  </p>

  <p>
    These are stored in four separate directional speed maps.
  </p>

  <h3>North vs South / East vs West</h3>
  <p>
    We checked if it’s significantly faster in certain directions due to terrain (e.g., steep hills).
    No major differences observed.
  </p>

  <div class="figure">
    <img id="img11" src="graphs/directions.png" alt="North vs South">
    <div class="figure-caption">North vs South Speed Comparison</div>
  </div>

</body>
</html>
