<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Kernel Density Estimation Analysis</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 2em;
      line-height: 1.6;
      background-color: #f9f9f9;
      color: #333;
    }

    h1, h2 {
      color: #2c3e50;
    }

    .image-row {
      display: flex;
      justify-content: center;
      gap: 0.1em; /* smaller space between images */
      margin: 0.2em 0;
    }

    .image-row img {
      width: 150px;
      height: auto;
    }

    img {
      height: auto;
      margin: 1em 0;
      display: block;
      margin-left: auto;
      margin-right: auto;
      max-width: 50%; /* makes non-row images about half the size */
    }

    .figure {
      text-align: center;
      margin-bottom: 2em;
    }

    .figure-caption {
      font-style: italic;
      color: #555;
    }

    code {
      background-color: #eee;
      padding: 0.2em 0.4em;
      border-radius: 3px;
    }
  </style>
</head>
<body>

  <h1>Kernel Density Estimation</h1>
  <p>
    This project leverages ranger GPS data to identify existing footpaths and estimate speed of movement in order to train a predictive model. At the core of the method is estimating the likelihood of a footpath's existence at any given location. This is achieved using density ranking based on GPS data [1], which applies kernel density estimation to assess the intensity of GPS activity. For each location on a raster, the intensity is calculated by summing the contributions of nearby GPS points, weighted by a Gaussian kernel that decreases with distance. The resulting density values are then ranked to identify likely footpaths.
  </p>

  <div class="image-row">
    <img src="graphs/blob.png" alt="Figure 1">
    <img src="graphs/blob_line.png" alt="Figure 2">
  </div>

  <h3>Implementation Practicalities</h3>
  <p>
    The values for each pixel of the Gaussian are computed once and then “stamped” over each GPS point. 
    They do not need to be recomputed every time.
  </p>
  <p>
    Further consideration into the standard deviation of the Gaussian is needed. The current value is arbitrary, 
    based on what looked visually reasonable with real data. Research is needed to determine how it should relate to the real data.
  </p>

  <h2>Kernel Density Ranking</h2>
  <p>
    The raw intensity values are skewed by time spent at base camp. 
    Figure 3 shows the raw values; base camp dominates due to its exponential intensity.
    Ranking the values instead results in Figure 4.
    Raw intensity values – base camp dominates.
    Ranked intensity values, reducing skew
  </p>

  <div class="image-row">
    <img src="graphs/intensity.png" alt="Figure 3">
    <img src="graphs/ranking.png" alt="Figure 4">
  </div>

  <h2>Adding Speed</h2>
  <p>
    Data is stored as sequential <code>[x, y, time]</code> entries. Distance between consecutive points is calculated 
    using the Haversine formula. Speed is derived from the distance and time difference.
  </p>
  <p>
    Each point is assigned the speed required to reach it from the previous one. 
    We then compute a weighted average speed for each pixel using Gaussian intensity weights.
  </p>

  <div class="figure">
    <img src="graphs/Figure_1.png" alt="Speed Example">
    <div class="figure-caption">Example: Two points with speeds 100 and 50 respectively.</div>
  </div>
  <div class="figure">
    <img src="graphs/Figure_2.png" alt="Speed Example">
    <div class="figure-caption">Example: Two points with speeds 100 and 50 respectively.</div>
  </div>
  <div class="figure">
    <img src="graphs/Figure_3.png" alt="Speed Example">
    <div class="figure-caption">Example: Two points with speeds 100 and 50 respectively.</div>
  </div>
  <div class="figure">
    <img src="graphs/Figure_4.png" alt="Speed Example">
    <div class="figure-caption">Example: Two points with speeds 100 and 50 respectively.</div>
  </div>

  <div class="figure">
    <img src="graphs/speed.png" alt="Average Speed">
    <div class="figure-caption">Full average speed plot (white = null).</div>
  </div>

  <h3>Speed vs Path</h3>
  <p>Do we see a relationship between speed and path intensity or rank?</p>

  <div class="figure">
    <img src="graphs/correlation.png" alt="Speed vs Intensity">
    <div class="figure-caption">Speed vs Path Intensity</div>
  </div>

  <p>No, no we can’t.</p>

  <h2>Calculating Directional Speed</h2>
  <p>
    To investigate slope effects, we measure speed in four directions (N, S, E, W). 
    This is done by computing vector components between GPS points.
  </p>

  <p>
    For example:
    <ul>
      <li>1-2: √2 units North and √2 units East</li>
      <li>2-3: 1 unit East</li>
      <li>3-4: Some units East and South</li>
    </ul>
  </p>

  <p>
    These are stored in four separate directional speed maps.
  </p>

  <h3>North vs South / East vs West</h3>
  <p>
    We checked if it’s significantly faster in certain directions due to terrain (e.g., steep hills).
    No major differences observed.
  </p>

  <div class="figure">
    <img src="graphs/directions.png" alt="North vs South">
    <div class="figure-caption">North vs South Speed Comparison</div>
  </div>

</body>
</html>


